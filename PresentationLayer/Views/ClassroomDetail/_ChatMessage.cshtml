@using DataAccessLayer.Models;

@model List<Messages>

@{
    var currentUserId = ViewBag.CurrentUserId != null ? Guid.Parse(ViewBag.CurrentUserId.ToString()) : (Guid?)null;
}

<div class="chat-messages p-4">
    @foreach (var message in Model)
    {
        <div class="message @(message.UserId == currentUserId ? "right" : "left")">
            <div>
                <div class="bg-secondary rounded-circle mr-1" style="width: 40px; height: 40px;"></div>
                <div class="text-muted small text-nowrap mt-2">@message.Timestamp</div>
            </div>
            <div class="flex-shrink-1 bg-light rounded py-2 px-3 @((message.UserId == currentUserId) ? "mr-3" : "ml-3")">
                <div class="font-weight-bold mb-1"></div>
                @message.Content
            </div>
        </div>
    }
</div>